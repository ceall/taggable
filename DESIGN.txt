Taggable 1.3 Redesign
=====================

This is sort of an internal design document I put together for Taggable 1.3.

## Fieldtype ##

The fieldtype is now 100% the heart and soul of Taggable. Because we can store everything in exp\_channel\_data (and thus don't need the additional database table) I've decided to move everything into the fieldtype. It makes looking up entries based on tags slightly more complex, but it's only an extra SQL query. The fieldtype's tag looks like this:

{tags tag\_id="1" tag\_name="some tag" tag\_url\_name="some\_tag" orderby="id|name" sort="asc|desc" backspace="2"}
	{id}
	{name}
	{url_name}
	{entry_count}
{/tags}

This also means that all the settings can be handled directly in the fieldtype as fieldtype settings. This allows a per-field granularity previously impossible. 

## Lookups ##

When you want to view entries tagged with a specific tag, instead of using the previous module entries() method, you'll use the {exp:channel:entries} tag using the search:tags="={segment_2}" parameter. This means a few things. Firstly, it means that you can search multiple tag fields on the same channel. It also means that only one tag is necessary - you use the standard, simple ExpressionEngine search: parameter to do the lookups.

## Autocomplete ##

Now, a separate database table, while not 100% necessary, is still going to be used. This is because it's the best and easiest way of performing the AJAXy lookups. When an entry is saved, the fieldtype will take any newly created tags and index them, and then denormalise the entry count. This makes lookups a lot quicker.

## Module ##

I can't get rid of the module entirely, as there'll be one case when you want to pull out all the tags in the system and list them or create a tag cloud or something. This is what the module's used for. It has exactly the same API as above, only it's not limited by the channel entry:

{exp:taggable tag\_id="1" tag\_name="some tag" tag\_url\_name="some\_tag" orderby="id|name" sort="asc|desc" backspace="2"}
	{id}
	{name}
	{url_name}
	{entry_count}
{/exp:taggable}

## Importer/Exporter ##

For the autocomplete we NEED the module, so I'm keeping the Import/Export tools in. I'm stripping down the CP to a bare minimum, however.